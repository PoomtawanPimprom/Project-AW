<div class="card" style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
    <div style="margin: 16px;">
        แสดงความคิดเห็น
        <textarea id="description" class="form-control" style="padding: 10px;" [formControl]="inputComment" rows="2"
            required=""></textarea>
        <div class="d-flex justify-content-end mt-2 mb-2">
            <button class="btn btn-primary" style="margin-right: 10px;" type="button" data-toggle="collapse"
                data-target="#commentExample" aria-expanded="false" aria-controls="commentExample">
                ตัวอย่าง
            </button>
            <button class="btn btn-mean" (click)="onClickCreateCommet()">โพสต์ความคิดเห็น</button>
        </div>
        <div class="collapse" id="commentExample">
            <component-show-comment [comment]="inputComment.value ?? '' " />
        </div>
        <div>
            <div>
                <div class="card mb-2" *ngFor="let item of comments"
                    style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); padding: 10px; display: flex; flex-direction: column;">
                    <div style="display: flex; margin-bottom: 0.5rem; align-items: center; text-align: center;">
                        <div class="rounded-circle bg-primary" style="height: 40px; width: 40px; margin-right: 10px;">
                        </div>
                        <div style="display: flex; width: 20% ; margin-right: 10px;">
                            {{ item.userId.name}}
                        </div>
                        <div style="display: flex; width: 70%; justify-content: end; align-items: center;">
                            <div class="dropdown">
                                <button *ngIf="isCurrentUser(item.userId._id)"
                                    style="background-color: white; border: 0px;" type="button" data-toggle="dropdown"
                                    aria-expanded="false" (click)="onClikeSelectComment(item._id)">
                                    <i class="bi bi-three-dots"></i>
                                </button>
                                <div class="dropdown-menu  dropdown-menu-right" style="padding: 0; width: 100px; min-width: auto;">
                                    <button class="dropdown-item text-primary btn-sm" data-toggle="modal"
                                        data-target="#staticBackdrop"
                                        style="padding-left: 10px; padding-right: 10px;">แก้ไข</button>
                                    <button class="dropdown-item text-danger btn-sm"
                                        style="padding-left: 10px; padding-right: 10px;"
                                        (click)="onClickDeleteComment(item._id)">
                                        ลบ</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" style="padding: 10px;">
                        <div>{{item.comment}}</div>
                    </div>
                    <!-- Modal -->
                    <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false"
                        tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="staticBackdropLabel">แก้ไขความเห็น</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    แก้ไขความเห็น
                                    <textarea class="form-control" style="padding: 10px;" [formControl]="commentUpdate"
                                        rows="2" required=""></textarea>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">ปิด</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal"
                                        (click)="onClickUpdateComment(item._id)">ตกลง</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>